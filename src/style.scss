// Copyright (c) 2020 Alaska Airlines. All right reserved. Licensed under the Apache-2.0 license
// See LICENSE in the project root for license information.

// ---------------------------------------------------------------------

// Import Auro tokens
@import "./../node_modules/@alaskaairux/design-tokens/dist/tokens/SCSSVariables";

@import "./../node_modules/@alaskaairux/webcorestylesheets/dist/breakpoints";
@import "./../node_modules/@alaskaairux/webcorestylesheets/dist/core";
@import "./../node_modules/@alaskaairux/webcorestylesheets/dist/utilityClasses/displayProperties";

// Support for auroElement styles
// @import "./../node_modules/@alaskaairux/webcorestylesheets/dist/auroElement/auroElement";

// container styles - defines the look of the outer custom component
// :host {
//   ...
// }

// layout styles - define any layout specifications for UI that is contained WITHIN the component
// never define layout that would cause effect on element outside the scope of this component


// component shape styles
// .auro-badge {
//   ...
// }

// handle focus-visible state
:host(.focus-visible) {
  .target {
    box-shadow: inset 0 0 0 1px var(--auro-color-border-focus-on-dark), inset 0 0 0 3px var(--auro-color-background-lightest);

    &::-moz-focus-inner {
      border: none;
      width: 100%;
    }
  }
}

:host {
  height: 2.75rem;
}

:host([space]) {
  margin-left: var(--auro-size-lg);
}

:host,
.target {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  color: var(--auro-color-text-primary-on-dark);
  background-color: var(--auro-color-ui-default-on-light);
  border: 1px solid var(--auro-color-ui-default-on-light);
  border-radius: 1.375rem;
  padding: 0 var(--auro-size-md);
}

:host([advisory]) {
  color: var(--auro-color-text-primary-on-light);

  .target {
    color: var(--auro-color-text-primary-on-light);
  }
}

:host([onDark]) {
  background-color: var(--auro-color-ui-default-on-dark);
  border-color: var(--auro-color-ui-default-on-dark);
  color: var(--auro-color-text-primary-on-light);

  @extend %hostTarget;
}

:host([target]) {
  padding: 0;
  border: 0;

  .target {
    height: 2.75rem;
  }
}

:host([target][ondark][disabled]) {
  .target {
    color: var(--auro-color-text-primary-on-light);
  }
}

:host([target][ondark]:not([disabled])) {
  .target {
    color: var(--auro-color-text-primary-on-light);

    @media (hover: hover) {
      &:active,
      &:hover {
        cursor: pointer;
        background-color: var(--auro-color-ui-hover-on-dark);
        border-color: var(--auro-color-ui-hover-on-dark);
      }
    }
  }
}

:host([target]:not([disabled])) {
  .target {
    @media (hover: hover) {
      &:active,
      &:hover {
        cursor: pointer;
        background-color: var(--auro-color-ui-hover-on-light);
        border-color: var(--auro-color-ui-hover-on-light);
      }
    }
  }
}

.target {
  font: inherit;

  // macOS / iOS agents
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
}

svg {
  margin-left: var(--auro-size-xs);
}

:host([label]) {
  background-color: transparent;
  border-color: var(--auro-color-brand-neutral-500);
  color: var(--auro-color-text-secondary-on-light);
  font-size: var(--auro-text-body-size-xs);
  padding: var(--auro-size-xxs) var(--auro-size-xs);
  user-select: none;
  border-radius: 9999px;
  height: auto;
  line-height: 1;
}

:host([label][ondark]) {
  background-color: transparent;
  border-color: var(--auro-color-brand-neutral-500);
  color: var(--auro-color-text-primary-on-dark);
}

:host([pill]) {
  padding: 0.375rem 0.5625rem 0.1875rem 0.5625rem;
  user-select: none;
  border-radius: 9999px;
  line-height: 1;
  height: auto;
}

:host([disabled]) {
  opacity: 0.4;
}

%hostTarget {
  .target {
    background-color: transparent;
    border-color: transparent;
  }
}

// Sass loop for various states of the badges
$states: error, success, advisory;

@each $state in $states {
  :host([#{$state}]) {
    background-color: var(--auro-color-alert-#{$state}-on-light);
    border-color: var(--auro-color-alert-#{$state}-on-light);

    @extend %hostTarget;
  }

  :host([#{$state}][ondark]) {
    background-color: var(--auro-color-alert-#{$state}-on-dark);
    border-color: var(--auro-color-alert-#{$state}-on-dark);

    @extend %hostTarget;
  }

  :host([#{$state}]:not([disabled])) {
    .target {
      @media (hover: hover) {
        &:active,
        &:hover {
          cursor: pointer;
          background-color: var(--auro-color-alert-#{$state}-on-light);
          border-color: var(--auro-color-alert-#{$state}-on-light);
          filter: brightness(85%);
        }
      }
    }
  }

  :host([#{$state}][ondark]:not([disabled])) {
    .target {
      @media (hover: hover) {
        &:active,
        &:hover {
          cursor: pointer;
          background-color: var(--auro-color-alert-#{$state}-on-dark);
          border-color: var(--auro-color-alert-#{$state}-on-dark);
          filter: brightness(85%);
        }
      }
    }
  }
}

:host([label][error]),
:host([label][success]) {
  color: var(--auro-color-base-white);
}

:host([label][advisory]) {
  color: var(--auro-color-text-primary-on-light);
}

:host([icon]) ::slotted(auro-icon) {
  width: var(--auro-size-300); 
  margin-right: var(--auro-size-25);
  height: auto;
}

:host([icon][pill]) ::slotted(auro-icon) {
  width: var(--auro-size-200);
}

:host([icon][pill]) {
  padding: 0.225rem 0.5625rem 0.1875rem;
  line-height: 0.75rem;
}

// new tokens, we'll need to add these to our design tokens library before commiting these changes.
:host {
  --auro-color-tier-alaska-lounge-on-light: #01426A;
  --auro-color-tier-alaska-loungeplus-on-light:#53b390;
  --auro-color-tier-alaska-club49-on-light: var(--auro-color-brand-midnight-500);
  --auro-color-tier-alaska-mvpgold-on-light:#99875b;
  --auro-color-tier-alaska-mvpgold75k-on-light:var(--auro-color-brand-gold-100);
  --auro-color-tier-alaska-mvpgold100k-on-light:var(--auro-color-brand-gold-200);
  --auro-color-tier-alaska-millionmiler-on-light:var(--auro-color-brand-gold-200);
  --auro-color-tier-alaska-twomillionmiler-on-light:var(--auro-color-tier-alaska-mvp-on-light);
  --auro-color-tier-alaska-club49-on-dark: var(--auro-color-brand-midnight-100);
  --auro-color-tier-alaska-mvpgold75k-on-dark:var(--auro-color-brand-gold-100);
  --auro-color-tier-alaska-mvpgold100k-on-dark:var(--auro-color-brand-gold-100);
  --auro-color-tier-alaska-millionmiler-on-dark:var(--auro-color-brand-goldgray-100);
  --auro-color-tier-alaska-twomillionmiler-on-dark:var(--auro-color-brand-goldgray-100);
}


$status: mvp, mvpgold, mvpgold75k, mvpgold100k, lounge, loungeplus;

@each $status in $status {
  :host([#{$status}]) {
    background-color: var(--auro-color-tier-alaska-#{$status}-on-light);
    border-color:  var(--auro-color-tier-alaska-#{$status}-on-light);

    @extend %hostTarget;
  }

  :host([#{$status}][ondark]) {
    background-color:  var(--auro-color-tier-alaska-#{$status}-on-dark);
    border-color:  var(--auro-color-tier-alaska-#{$status}-on-dark);

    @extend %hostTarget;
  }

  :host([#{$status}]:not([disabled])) {
    .target {
      @media (hover: hover) {
        &:active,
        &:hover {
          cursor: pointer;
          background-color: var(--auro-color-tier-alaska-#{$status}-on-light);
          border-color: var(--auro-color-tier-alaska-#{$status}-on-light);
          filter: brightness(85%);
        }
      }
    }
  }

  :host([#{$status}][ondark]:not([disabled])) {
    .target {
      @media (hover: hover) {
        &:active,
        &:hover {
          cursor: pointer;
          background-color: var(--auro-color-status-#{$status}-on-light);
          border-color: var(--auro-color-status-#{$status}-on-light);
          filter: brightness(85%);
        }
      }
    }
  }
}

$owstatus: emerald, sapphire, ruby;

@each $owstatus in $owstatus {
  :host([#{$owstatus}]) {
    background-color: var(--auro-color-tier-oneworld-#{$owstatus});
    border-color:  var(--auro-color-tier-oneworld-#{$owstatus});

    @extend %hostTarget;
  }

  :host([#{$owstatus}]:not([disabled])) {
    .target {
      @media (hover: hover) {
        &:active,
        &:hover {
          cursor: pointer;
          background-color: var(--auro-color-tier-oneworld-#{$owstatus});
          border-color: var(--auro-color-tier-oneworld-#{$owstatus});
          filter: brightness(85%);
        }
      }
    }
  }
}
// $outline: club49, millionmiler, twomillionmiler;

// @each $outline in $outline {
//   :host([#{$outline}]) {
//     .outline {
//       box-shadow:inset 0px 0px 0px 10px  var(--auro-color-tier-alaska-#{$outline}-on-light);
//     }
//   }
// }

// @extend %hostTarget;

$club: club49, millionmiler, twomillionmiler;

@each $club in $club {
  :host([#{$club}]) {
    background-color: var(--auro-color-base-white);
    border-color:  var(--auro-color-tier-alaska-#{$club}-on-light);
    color:  var(--auro-color-tier-alaska-#{$club}-on-light);

    @extend %hostTarget;
  }

  :host([#{$club}]:not([disabled])) {
    .target {
      @media (hover: hover) {
        &:active,
        &:hover {
          cursor: pointer;
          background-color: var(--auro-color-base-white);
          border-color:  var(--auro-color-tier-alaska-#{$club}-on-light);
          color:  var(--auro-color-tier-alaska-#{$club}-on-light);
          filter: brightness(85%);
        }
      }
    }
  }
}